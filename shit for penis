#include <iostream>
#include <vector>

using namespace std;

struct form {
    string surname;
    string name;
    string patronymic;
    string street;
    string house;
    string flat;
    int sex;
    int age;
};

form input() {
    form newForm;
    cout << "Фамилия: ";
    cin >> newForm.surname;
    cout << "Имя: ";
    cin >> newForm.name;
    cout << "Отчество: ";
    cin >> newForm.patronymic;
    cout << "Улица: ";
    cin >> newForm.street;
    cout << "Дом: ";
    cin >> newForm.house;
    cout << "Квартира: ";
    cin >> newForm.flat;
    cout << "Пол(1. Мужчина 2. Женщина): ";
    cin >> newForm.sex;
    cout << "Возраст: ";
    cin >> newForm.age;
    return newForm;
}

int operation(vector<form>& forms, int size) {
    string MyStreet;
    int value = 0;
    cout << "Введите название улицы, на которой необходимо провести поиск: ";
    cin >> MyStreet;
    for (int i = 0; i < size; i++) {
        if (forms[i].street == MyStreet){ //&& forms[i].age < 60 && forms[i].age > 18 && forms[i].sex == "м") {
            if (forms[i].age < 60 && forms[i].age > 18) {
                if (forms[i].sex == 1)
                value += 1;
            }
        }
        else
            continue;
    }
    return value;
}



int main()
{
    setlocale(LC_ALL, "Russian");
    vector<form> forms;

    while (1)
    {
        cout << "1. Заполнить новую анкетую. \n"
            << "2. Определите, сколько лиц мужского пола в возрасте старше 18 лет и младше 60 проживают на одной улице.\n"
            << "Выберете вариант желаемой операции.\nДля завершения работы программы, введите любой символ: ";
        int switchedNum;
        cin >> switchedNum;
        switch (switchedNum)
        {
        case 1:
            forms.push_back(input());
            break;
        case 2:
            cout << operation(forms, forms.size());
            break;
        case 3:
            for (int i = 0; i < forms.size(); i++) {
                cout << forms[i].age;
            }
            break;
        default:
            return 0;
            break;
        }
    }
}



